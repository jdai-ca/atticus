{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://jdai.ca/schemas/practice-config.schema.json",
    "title": "Atticus Practice Area Configuration Schema",
    "description": "JSON Schema for Atticus legal practice area configuration",
    "type": "object",
    "required": [
        "version",
        "minAppVersion",
        "lastUpdated",
        "practiceAreas"
    ],
    "properties": {
        "version": {
            "type": "string",
            "pattern": "^\\d+\\.\\d+\\.\\d+$",
            "description": "Semantic version of the configuration file (e.g., '1.0.0')"
        },
        "minAppVersion": {
            "type": "string",
            "pattern": "^\\d+\\.\\d+\\.\\d+$",
            "description": "Minimum Atticus app version required to use this configuration"
        },
        "lastUpdated": {
            "type": "string",
            "format": "date-time",
            "description": "ISO 8601 timestamp of last configuration update"
        },
        "updateUrl": {
            "type": "string",
            "format": "uri",
            "description": "URL where the latest configuration can be fetched"
        },
        "license": {
            "type": "string",
            "description": "License identifier for this configuration file"
        },
        "practiceAreas": {
            "type": "array",
            "minItems": 1,
            "description": "Array of legal practice area configurations",
            "items": {
                "$ref": "#/definitions/PracticeArea"
            }
        }
    },
    "definitions": {
        "PracticeArea": {
            "type": "object",
            "required": [
                "id",
                "name",
                "description",
                "keywords",
                "systemPrompt",
                "color"
            ],
            "properties": {
                "id": {
                    "type": "string",
                    "pattern": "^[a-z][a-z0-9-]*$",
                    "description": "Unique identifier for the practice area (kebab-case)"
                },
                "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 100,
                    "description": "Display name of the practice area"
                },
                "description": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 500,
                    "description": "Short description of the practice area"
                },
                "keywords": {
                    "type": "array",
                    "minItems": 1,
                    "uniqueItems": true,
                    "description": "Keywords for practice area detection",
                    "items": {
                        "type": "string",
                        "minLength": 1
                    }
                },
                "systemPrompt": {
                    "type": "string",
                    "minLength": 50,
                    "description": "Specialized system prompt for this practice area"
                },
                "color": {
                    "type": "string",
                    "pattern": "^#[0-9a-fA-F]{6}$",
                    "description": "Hex color code for UI theming (e.g., '#1e40af')"
                },
                "enabled": {
                    "type": "boolean",
                    "default": true,
                    "description": "Whether this practice area is active"
                },
                "order": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "Display order in UI (lower numbers appear first)"
                },
                "category": {
                    "type": "string",
                    "enum": [
                        "corporate",
                        "litigation",
                        "regulatory",
                        "transactional",
                        "advisory",
                        "specialized"
                    ],
                    "description": "Category grouping for organization"
                },
                "icon": {
                    "type": "string",
                    "description": "Emoji or icon identifier for UI display"
                },
                "relatedAreas": {
                    "type": "array",
                    "description": "IDs of related practice areas",
                    "items": {
                        "type": "string"
                    }
                }
            },
            "additionalProperties": false
        }
    },
    "additionalProperties": false
}